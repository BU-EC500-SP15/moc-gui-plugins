{% extends "base.html" %}

{% block content %}

<h2>{{project.name}}</h2>

<div class="row">
    <div class="col-md-5">
        <h3>Nodes</h3>
        <hr />       
        <table class="table table-bordered table-condensed table-hover">
            <thead>
                <tr class ="info">
                    <th class ="info">
                        Node name
                    </th>
                    <th>
                        Actions
                    </th>
                </tr>
            </thead>
            {% for node in project.nodes %}
            <tr class = "active">
                <td>{{node}}</td>
                
<td>
			<form action="/projects/{{project.name}}/detach_node" method="POST">
				{%csrf_token%}
				<input type="hidden" name="node_name" value="{{node}}"/>
				{% block node%}
			   		{% include "node.html" %}
				{% endblock %}
				<input type="submit" value="Detach" class="btn btn-danger"/>
                       </form>
 		</td>
            </tr>
            {% endfor%}
            
        </table>
	<div>
           <a href="../details/freenodes/{{project.name}}" class="btn btn-primary">Attach New</a> <!--<input type="submit" value="Detach Selected" class="btn btn-default" /> -->
	</div>    
</div>

    <div class="col-md-5">
        <h3>Headnodes</h3>
        <hr />
       
			  {% if project.headnodes %}
			   <table class="table table-bordered table-condensed table-hover">
            			<thead>
                		  <tr class = "info">
                    		  <th class = "info">
                        		Headnode Name
                    		  </th>
                        	{% for headnode in project.headnodes %}
                            		<p>Assigned headnode is {{headnode}}</p>
                        	{% endfor %}
 		    		<th>
                        
                    		</th>
                		</tr>
            			</thead>
            			<tr class = "active">
            			  {% for headnode in project.headnodes%}
            			<tr class = "active">
                		   <td>{{headnode}}</td>
                		   <td><a href="" class="btn btn-success">Assign</a></td>
            			</tr>
              			  {%endfor%}
        		    </table>
                    {% else %}
                        <p>No headnodes are assigned to this project.</p>
                        <a href="/headnode/create" class="btn btn-primary">Create New Headnode</a>
                    {% endif %}
                   
    </div>
</div>
    <div class="col-md-5">
        <h3>Networks</h3>
        <hr />
        <table class="table table-bordered table-condensed table-hover">
            <thead>
                <tr class = "info">
                    <th class = "info">
                        Network name
                    </th>
                </tr>
            </thead>
            {% for network in project.networks %}
            <tr class = "active">
                <td>{{network}}</td>
            </tr>
            {% endfor%}
            
        </table>
    </div>
</div>

<p>
   <div class="col-md-12">
<hr />
 	<a href="/projects" class="btn btn-primary">
	<span class = "glyphicon glyphicon-arrow-left" aria-hidden = "true"> </span>
	Back to list</a>
	{% block delete %}
        	{% include "deleteProject.html" %}
    	{% endblock %}

   </div>   
</p>


<script language="JavaScript">
function toggle(source) {
  checkboxes = document.getElementsByName('nodeCheck');
  for(var i=0, n=checkboxes.length;i<n;i++) {
    checkboxes[i].checked = source.checked;
  }
}
</script>
    
{% endblock %}
