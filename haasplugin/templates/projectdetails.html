{% extends "base.html" %}

{% block content %}

<h2>{{project.name}}</h2>

<div class="row">
    <div class="col-md-5">
        <h3>Nodes</h3>
        <hr />       
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>
                    	<input type="checkbox" onClick="toggle(this)" />
                    </th>
                    <th>
                        Node name
                    </th>
                    <th>
                        Actions
                    </th>
                </tr>
            </thead>
            {% for node in project.nodes %}
            <tr>
                <td>
                    <input type="checkbox" name="nodeCheck" />
                </td>
                <td>{{node}}</td>
                <td>
			<form action="/projects/{{project.name}}/detach_node" method="POST">
				{%csrf_token%}
				<input type="hidden" name="node_name" value="{{node}}"/>
			        <input type="submit" value="Detach" class="btn btn-danger btn-sm"/>
			</form>
			{% block node%}
			   {% include "node.html" %}
			{% endblock %}
		</td>
            </tr>
            {% endfor%}
            
        </table>
	<div>
           <a href="../details/freenodes/{{project.name}}" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-plus"></i> Attach New</a>
	</div>    
</div>

    <div class="col-md-5">
        <h3>Headnode</h3>
        <hr />
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>
                        Headnode Name
                    </th>
                    <th>
                        
                    </th>
                </tr>
            </thead>
            <tr>
                <td>Headnode name 1</td>
                <td><a href="" class="btn btn-success btn-sm">Assign</a></td>
            </tr>
        </table>
    </div>
</div>
    <div class="col-md-5">
        <h3>Networks</h3>
        <hr />
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>
                        Network name
                    </th>
                </tr>
            </thead>
            {% for network in project.networks %}
            <tr>
                <td>{{network}}</td>
            </tr>
            {% endfor%}
            
        </table>
    </div>
</div>

<p>
   <div class="col-md-12">
<hr />
 	<a href="/projects" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-arrow-left"></i> Back</a>
    	<!--<a href="/project/delete/{{project.name}}" class="btn btn-danger">Delete</a>-->
	{% block delete%}
        	{% include "deleteProject.html" %}
    	{% endblock %}

   </div>   
</p>


<script language="JavaScript">
function toggle(source) {
  checkboxes = document.getElementsByName('nodeCheck');
  for(var i=0, n=checkboxes.length;i<n;i++) {
    checkboxes[i].checked = source.checked;
  }
}
</script>
    
{% endblock %}
